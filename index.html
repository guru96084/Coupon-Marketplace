<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coupon Marketplace</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>
<body>
    <div class="wrapper">
        <header>
            <nav>
                <div class="logo">Coupon Marketplace</div><br>
                <ul class="nav-links" id="menuLinks">
                    <li><a href="#main">Home</a></li>
                    <!-- Dynamic Login/Register or Profile/Logout options -->
                </ul>
                <div class="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </header>
        <div class="main" id="main">
            <div class="hero1" id="hero1">
                <section class="hero">
                    <h1>Welcome to Coupon Marketplace</h1>
                    <p>Discover amazing deals and offers on a variety of coupons</p>
                </section>
            </div>
            <section class="About" id="About">
                <h1>About Coupon Marketplace</h1><br><br>
                <div class="About-section">
                    <section class="About-section-box">
                        <div class="shape">1</div>
                        <div>
                            <h2>Diverse Offerings</h2>
                            <p>Your marketplace features a wide range of coupon types, from discount 
                                codes for online stores to printable vouchers for in-store purchases. 
                                This diversity ensures that users can find and exchange coupons for various 
                                products and services, making the platform a one-stop-shop for all their coupon needs.
                            </p>
                        </div>
                    </section>
                    <section class="About-section-box">
                        <div class="shape shape-box">2</div>
                        <div>
                            <h2>User-to-User Transactions</h2>
                            <p>The platform allows users to buy and sell coupons directly with each other. 
                                This peer-to-peer model fosters a dynamic marketplace where individuals can list their unused or extra coupons for sale, 
                                while buyers can find deals that might not be available through traditional channels.
                            </p>
                        </div>
                    </section>
                    <section class="About-section-box">
                        <div class="shape">3</div>
                        <div>
                            <h2>Ease of Use and Accessibility</h2>
                            <p>The marketplace is designed for user-friendly navigation, allowing individuals 
                                to easily search for and purchase coupons. Features like search filters, 
                                categorized listings, and a streamlined checkout process ensure a smooth 
                                and efficient experience for both sellers and buyers.
                            </p>
                        </div>
                    </section>
                </div>
            </section>
            <section class="categories" id="categories">
                <h1>Categories</h1>
                <div class="category-list">
                    <a href="food-beverage.php" class="category-link">
                        <div class="category-item">         
                            <div class="shape">1</div>
                            <div>
                                <h2>Food & Beverage</h2>
                                <p>you'll find a wide range of coupons and deals to save on your favorite eats and drinks. 
                                     Explore our coupons for discounts on restaurants, cafes, grocery stores, and more.
                                </p>
                            </div>
                        </div>
                    </a>                       
                    <a href="fashion-apparel.php" class="category-link">
                        <div class="category-item">                     
                            <div class="shape">2</div>
                            <div>
                                <h2>Fashion & Apparel</h2>
                                <p>you'll find a treasure trove of coupons and deals to elevate your wardrobe without breaking the bank.
                                     Discover discounts on your favorite brands and styles, and step out in style while saving money.
                                </p>
                            </div>
                        </div>
                    </a>
                    <a href="electronics.php" class="category-link">
                        <div class="category-item">
                            <div class="shape">3</div>
                            <div>
                                <h2>Electronics</h2>
                                <p>you'll find a plethora of coupons and deals to upgrade your tech gadgets without overspending.
                                 Explore our coupons for discounts on top brands and the hottest tech trends.
                                </p>
                            </div>
                        </div>
                    </a>
                    <a href="books.php" class="category-link">
                        <div class="category-item">                    
                            <div class="shape">4</div>
                            <div>
                                <h2>Books</h2>
                                <p>you'll find a world of coupons and deals to fuel your literary adventures without emptying your wallet.
                                     Discover discounts on new releases, bestsellers, textbooks, and more.
                                </p>
                            </div>
                        </div>
                    </a>
                    <a href="vehicles.php" class="category-link">
                        <div class="category-item">
                            <div class="shape">5</div>
                            <div>
                                <h2>Vehicles</h2>
                                <p>you'll find a variety of coupons and deals to help you save on your next car or motorcycle purchase. 
                                     Explore our coupons for discounts on dealerships, rental companies, and more.
                                </p>
                            </div>
                        </div>
                    </a>
                </div>
            </section>

            <section class="services">
                <div class="services-box">
                    <div>
                        <h3>POPULAR LOCATIONS</h3>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </div>
                    <div>
                        <h3>TRENDING LOCATIONS</h3>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </div>
                    <div>
                        <h3>CONTACT US</h3>
                        <ul>
                            <li><li><a href="contactUs.html"><i class="fas fa-comments"></i> Contact Us</a></li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>

        <footer>
            &copy; 2024 Coupon Marketplace. All rights reserved.
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuLinks = document.getElementById('menuLinks');
            const isLoggedIn = sessionStorage.getItem('isLoggedIn') === 'true';

            // Dynamically add the Upload link and login/register or profile/logout links
            let menuHtml = `
                <li><a href="#hero1">Home</a></li>
                <li><a href="#About">About</a></li>
                <li><a href="#categories">Categories</a></li>
            `;

            if (isLoggedIn) {
                menuHtml += `
                    <li><a href="profile.php"><i class="fas fa-user"></i> Profile</a></li>
                    <li><a href="chat_list.php"><i class="fas fa-message"></i>message</a></li>
                    <li><a href="upload.html"><i class="fas fa-upload"></i> Upload</a></li>
                    <li><a href="logout.php" id="logoutButton"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                `;
            } else {
                menuHtml += `
                    <li><a href="login.php"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                    <li><a href="register.php"><i class="fas fa-user-plus"></i> Register</a></li>
                `;
            }

            // Insert the dynamic HTML into the menu
            menuLinks.innerHTML = menuHtml;

            // Attach the click event listener for the "Upload" link after it has been dynamically added
            const uploadLink = document.getElementById('uploadLink');
            uploadLink.addEventListener('click', function(e) {
                if (!isLoggedIn) {
                    e.preventDefault(); // Prevents link navigation
                    alert('Please log in to access this page.');
                    window.location.href = 'login.php'; // Redirect to login page
                }
            });

            // Attach logout functionality if the logout button exists
            const logoutButton = document.getElementById('logoutButton');
            logoutButton?.addEventListener('click', function() {
                sessionStorage.removeItem('isLoggedIn');
                location.reload();
            });

            // Check for login before allowing access to category links
            const categoryLinks = document.querySelectorAll('.category-link');
            categoryLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    if (!isLoggedIn) {
                        e.preventDefault(); // Prevents link navigation
                        alert('Please log in to access this category.');
                        window.location.href = 'login.php'; // Redirect to login page
                    }
                });
            });
        });
    </script>
</body>
</html>
